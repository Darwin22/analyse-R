<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Premier contact</title>

<script src="libs/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.1/css/flatly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.1/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/respond.min.js"></script>
<link rel="stylesheet" href="./include/analyse-R.css" />
<script type="text/javascript" src="./libs/zeroclipboard-2.2.0/ZeroClipboard.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img { 
  max-width:100%; 
  height: auto; 
}
</style>
<div class="container-fluid main-container">

<nav>
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href=".">analyse-R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="index.html">Accueil</a></li>
        <li class="dropdown">
          <a href="pem" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Prise en main <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="pem_presentation_installation.html">Présentation et Installation</a></li>
            <li><a href="pem_premier_contact.html">Premier contact</a></li>
            <li><a href="pem_premier_travail.html">Premier travail avec des données et statistique univariée</a></li>
            <li><a href="pem_import_export.html">Import / Export de données</a></li>
            <li><a href="pem_manipulation.html">Manipulation de données</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="analyses" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Analyses <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="analyses_stat_biv.html">Statistique bivariée</a></li>
            <li><a href="analyses_reglog.html">Régression logistique</a></li>
            <li><a href="analyses_donnees_pond.html">Données pondérées</a></li>
            <li><a href="analyses_acm.html">Analyse des correspondances multiples (ACM)</a></li>
            <li><a href="analyses_cah.html">Classification ascendante hiérarchique (CAH)</a></li>
            <li><a href="analyses_seq.html">Analyse de séquences</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="avance" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Avancé <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li class="dropdown-header">Astuces</li>
            <li><a href="avance_age.html">Calculer un âge</a></li>
          </ul>
        </li>
        <li><a href="index_fonctions.html">Index des fonctions</a></li>
        <li><a href="analyse-R.pdf">PDF</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="participer" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Participer <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
              <li><a href="https://github.com/larmarange/analyse-R">analyse-R sur GitHub</a></li>
          </ul>
        </li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
</nav>

<div class="row">

<div class="col-sm-9" role="main">
<article>

<div id="header">
<h1 class="title">Premier contact</h1>
</div>

<div id="TOC">
<ul>
<li><a href="#linvite-de-commandes">L’invite de commandes</a></li>
<li><a href="#des-objets">Des objets</a><ul>
<li><a href="#objets-simples">Objets simples</a></li>
<li><a href="#vecteurs">Vecteurs</a></li>
</ul></li>
<li><a href="#des-fonctions">Des fonctions</a><ul>
<li><a href="#arguments">Arguments</a></li>
<li><a href="#quelques-fonctions-utiles">Quelques fonctions utiles</a></li>
<li><a href="#aide-sur-une-fonction">Aide sur une fonction</a></li>
<li><a href="#interpretation-des-arguments">Interprétation des arguments</a></li>
<li><a href="#auto-completion">Auto-complétion</a></li>
</ul></li>
</ul>
</div>

<div class="note">
Ce chapitre est inspiré de la section <em>Prise en main</em> du support de cours <a href="https://github.com/juba/intro-r">Introduction à R</a> réalisé par Julien Barnier.
</div>
<p>Une fois <strong>RStudio</strong> lancé, vous devriez obtenir une fenêtre similaire à la figure ci-après.</p>
<figure>
<img src="images/capture_RStudio.png" alt="Interface de RStudio au démarrage" />
<figcaption>
Interface de RStudio au démarrage
</figcaption>
</figure>
<p>L’interface de <strong>RStudio</strong> est divisée en quatre quadrants :</p>
<ul>
<li>le quadrant supérieur gauche est dédié aux différents fichiers de travail (nous y reviendrons dans le chapitre <a href="pem_premier_travail.html">Premier travail avec les données</a>) ;</li>
<li>le quadrant inférieur gauche correspond à ce que l’on appelle la <em>console</em>, c’est-à-dire à <strong>R</strong> proprement dit ;</li>
<li>le quadrant supérieur droit permet de connaître
<ul>
<li>la liste des objets en mémoire (onglet <em>Environment</em>)</li>
<li>ainsi que l’historique des commandes saisies dans la console (onglet <em>History</em>) ;</li>
</ul></li>
<li>le quadrant inférieur droit affiche
<ul>
<li>la liste des fichiers du répertoire de travail (onglet <em>Files</em>),</li>
<li>les graphiques réalisés (onglet <em>Plots</em>),</li>
<li>la liste des extensions disponibles (onglet <em>Packages</em>),</li>
<li>l’aide en ligne (onglet <em>Help</em>)</li>
<li>et un <em>Viewer</em> utilisé pour visualiser certains types de graphiques au format web.</li>
</ul></li>
</ul>
<p>Inutile de tout retenir pour le moment. Nous aborderons chaque outil en temps utile. Pour l’heure, concentrons-nous sur la <em>console</em>, c’est-à-dire le quadrant inférieur gauche.</p>
<div id="linvite-de-commandes" class="section level2">
<h2>L’invite de commandes</h2>
<p>Au démarrage, la console contient un petit texte de bienvenue ressemblant à peu près à ce qui suit :</p>
<pre><code>R version 3.2.0 (2015-04-16) -- &quot;Full of Ingredients&quot;
Copyright (C) 2015 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#39;license()&#39; or &#39;licence()&#39; for distribution details.

R is a collaborative project with many contributors.
Type &#39;contributors()&#39; for more information and
&#39;citation()&#39; on how to cite R or R packages in publications.

Type &#39;demo()&#39; for some demos, &#39;help()&#39; for on-line help, or
&#39;help.start()&#39; for an HTML browser interface to help.
Type &#39;q()&#39; to quit R.</code></pre>
<p>suivi d’une ligne commençant par le caractère <code>&gt;</code> et sur laquelle devrait se trouver votre curseur. Cette ligne est appelée l’<em>invite de commande</em> (ou <em>prompt</em> en anglais). Elle signifie que <strong>R</strong> est disponible et en attente de votre prochaine commande.</p>
<p>Nous allons tout de suite lui fournir une première commande. Tapez <code>2 + 3</code> dans la console et validez avec la touche <kbd>Entrée</kbd>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span> +<span class="st"> </span><span class="dv">3</span></code></pre>
<pre><code>[1] 5</code></pre>
<p>En premier lieu, vous pouvez noter la convention typographique utilisée dans ce documents. Les commandes saisies dans la console sont indiquées sur un fond gris et précédé de <code>R&gt;</code>. Le résultat renvoyé par <strong>R</strong> est quant à lui affiché juste en-dessous sur fond blanc.</p>
<p>Bien, nous savons désormais que <strong>R</strong> sait faire les additions à un chiffre<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>. Nous pouvons désormais continuer avec d’autres opérations arithmétiques de base :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">8</span> -<span class="st"> </span><span class="dv">12</span></code></pre>
<pre><code>[1] -4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">14</span> *<span class="st"> </span><span class="dv">25</span></code></pre>
<pre><code>[1] 350</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">-<span class="dv">3</span>/<span class="dv">10</span></code></pre>
<pre><code>[1] -0.3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">-<span class="fl">0.3</span></code></pre>
<pre><code>[1] -0.3</code></pre>
<p>On remarquera que <strong>R</strong> est anglo-saxon. Les nombres sont donc saisies « à l’anglaise », c’est-à-dire en utilisant le point (<code>.</code>) comme séparateur pour les décimales.</p>
<div class="astuce">
<p>Une petite astuce très utile lorsque vous tapez des commandes directement dans la console : en utilisant les flèches Haut et Bas du clavier, vous pouvez naviguer dans l’historique des commandes tapées précédemment, que vous pouvez alors facilement réexécuter ou modifier une commande particulière.</p>
<p>Sous <strong>RStudio</strong>, l’onglet History du quadrant haut-droite vous permet de consulter l’historique des commandes que vous avez transmises à <strong>R</strong>.</p>
<p><img src="images/capture_RStudio_onglet_history.png" alt="Onglet History sous RStudio" /></p>
<p>Un double-clic sur une commande la recopiera automatiquement dans la console. Vous pouvez également sélectionner une ou plusieurs commandes puis cliquer sur <em>To Console</em>.</p>
Voir également (en anglais) : <a href="http://www.rstudio.com/ide/docs/using/history" class="uri">http://www.rstudio.com/ide/docs/using/history</a>
</div>
<p>Lorsqu’on fournit à <strong>R</strong> une commande incomplète, celui-ci nous propose de la compléter en nous présentant une invite de commande spéciale utilisant les signe <code>+</code>. Imaginons par exemple que nous avons malencontreusement tapé sur <kbd>Entrée</kbd> alors que nous souhaitions calculer <code>4 * 3</code> :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">4</span> *</code></pre>
<p>On peut alors compléter la commande en saisissant simplement <code>3</code> :</p>
<pre class="r">4 *
+ 3
</pre>
<pre>
[1] 12
</pre>
<div class="info">
<p>Pour des commandes plus complexes, il arrive parfois qu’on se retrouve coincé avec une invite <code>+</code> sans plus savoir comment compléter la saisie correctement. On peut alors annuler la commande en utilisant la touche <kbd>Echap</kbd> ou <kbd>Esc</kbd> sous <strong>Windows</strong>.</p>
Sous <strong>Linux</strong> on utilise le traditionnel <kbd>Control + C</kbd>.
</div>
<p>À noter que les espaces autour des opérateurs n’ont pas d’importance lorsque l’on saisit les commandes dans <strong>R</strong>. Les trois commandes suivantes sont donc équivalentes, mais on privilégie en général la deuxième pour des raisons de lisibilité du code.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">10+2</span>
<span class="dv">10</span> +<span class="st"> </span><span class="dv">2</span>
<span class="dv">10</span>    +<span class="st">    </span><span class="dv">2</span></code></pre>
</div>
<div id="des-objets" class="section level2">
<h2>Des objets</h2>
<div id="objets-simples" class="section level3">
<h3>Objets simples</h3>
<p>Faire des opérations arithmétiques, c’est bien, mais sans doute pas totalement suffisant. Notamment, on aimerait pouvoir réutiliser le résultat d’une opération sans avoir à le resaisir ou à le copier/coller.</p>
<p>Comme tout langage de programmation, <strong>R</strong> permet de faire cela en utilisant des objets. Prenons tout de suite un exemple :</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">2</span></code></pre>
<p>Que signifie cette commande ? L’opérateur <code>&lt;-</code> est appelé <em>opérateur d’assignation</em>. Il prend une valeur quelconque à droite et la place dans l’objet indiqué à gauche. La commande pourrait donc se lire <em>mettre la valeur 2 dans l’objet nommé <code>x</code></em>.</p>
<p>On va ensuite pouvoir réutiliser cet objet dans d’autres calculs ou simplement afficher son contenu :</p>
<pre class="sourceCode r"><code class="sourceCode r">x +<span class="st"> </span><span class="dv">3</span></code></pre>
<pre><code>[1] 5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x</code></pre>
<pre><code>[1] 2</code></pre>
<div class="info">
Par défaut, si on donne à <strong>R</strong> seulement le nom d’un objet, il va se débrouiller pour nous présenter son contenu d’une manière plus ou moins lisible.
</div>
<p>On peut utiliser autant d’objets qu’on veut. Ceux-ci peuvent contenir des nombres, des chaînes de caractères (indiquées par des guillemets droits doubles <code>&quot;</code> ou simples <code>'</code>) et bien d’autres choses encore :</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">27</span>
y &lt;-<span class="st"> </span><span class="dv">10</span>
foo &lt;-<span class="st"> </span>x +<span class="st"> </span>y
foo</code></pre>
<pre><code>[1] 37</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> &quot;Hello&quot;</span>
foo &lt;-<span class="st"> </span>x
foo</code></pre>
<pre><code>[1] &quot;Hello&quot;</code></pre>
<div class="important">
<p>Les noms d’objets peuvent contenir des lettres, des chiffres (mais ils ne peuvent pas commencer par un chiffre), les symboles <code>.</code> et <code>_</code>. Ils doivent impérativement commencer par une lettre. <strong>R</strong> fait la différence entre les majuscules et les minuscules, ce qui signifie que <code>x</code> et <code>X</code> sont deux objets différents. On évitera également d’utiliser des caractères accentués dans les noms d’objets. Comme les espaces ne sont pas autorisés on pourra les remplacer par un point ou un tiret bas.</p>
Enfin, signalons que certains noms courts sont réservés par <strong>R</strong> pour son usage interne et doivent être évités. On citera notamment <code>c</code>, <code>q</code>, <code>t</code>, <code>C</code>, <code>D</code>, <code>F</code>, <code>I</code>, <code>T</code>, <code>max</code>, <code>min</code>…
</div>
<p>Dans <strong>RStudio</strong>, l’onglet <em>Environment</em> dans le quadrant supérieur droit indique la liste des objets que vous avez précédemment créés, leur type et la taille qu’ils occupent en mémoire.</p>
<figure>
<img src="images/capture_RStudio_onglet_environment.png" alt="Onglet Environment de RStudio" />
<figcaption>
Onglet Environment de RStudio
</figcaption>
</figure>
</div>
<div id="vecteurs" class="section level3">
<h3>Vecteurs</h3>
<p>Imaginons maintenant que nous avons interrogé dix personnes au hasard dans la rue et que nous avons relevé pour chacune d’elle sa taille en centimètres. Nous avons donc une série de dix nombres que nous souhaiterions pouvoir réunir de manière à pouvoir travailler sur l’ensemble de nos mesures.</p>
<p>Un ensemble de données de même nature constituent pour <strong>R</strong> un vecteur (en anglais <em>vector</em>) et se construit à l’aide d’une fonction nommée <code data-package="base">c</code><a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>. On l’utilise en lui donnant la liste de nos données, entre parenthèses, séparées par des virgules :</p>
<pre class="sourceCode r"><code class="sourceCode r">tailles &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">167</span>, <span class="dv">192</span>, <span class="dv">173</span>, <span class="dv">174</span>, <span class="dv">172</span>, <span class="dv">167</span>, <span class="dv">171</span>, <span class="dv">185</span>, 
  <span class="dv">163</span>, <span class="dv">170</span>)</code></pre>
<p>Ce faisant, nous avons créé un objet nommé <code>tailles</code> et comprenant l’ensemble de nos données, que nous pouvons afficher :</p>
<pre class="sourceCode r"><code class="sourceCode r">tailles</code></pre>
<pre><code> [1] 167 192 173 174 172 167 171 185 163 170</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">144</span>, <span class="dv">168</span>, <span class="dv">179</span>, <span class="dv">175</span>, <span class="dv">182</span>, <span class="dv">188</span>, <span class="dv">167</span>, <span class="dv">152</span>, <span class="dv">163</span>, <span class="dv">145</span>, 
  <span class="dv">176</span>, <span class="dv">155</span>, <span class="dv">156</span>, <span class="dv">164</span>, <span class="dv">167</span>, <span class="dv">155</span>, <span class="dv">157</span>, <span class="dv">185</span>, <span class="dv">155</span>, <span class="dv">169</span>, 
  <span class="dv">124</span>, <span class="dv">178</span>, <span class="dv">182</span>, <span class="dv">195</span>, <span class="dv">151</span>, <span class="dv">185</span>, <span class="dv">159</span>, <span class="dv">156</span>, <span class="dv">184</span>, <span class="dv">172</span>)</code></pre>
<pre><code> [1] 144 168 179 175 182 188 167 152 163 145 176
[12] 155 156 164 167 155 157 185 155 169 124 178
[23] 182 195 151 185 159 156 184 172</code></pre>
<p>On a bien notre suite de trente tailles, mais on peut remarquer la présence de nombres entre crochets au début de chaque ligne (<code>[1]</code>, <code>[12]</code> et <code>[23]</code>). En fait ces nombres entre crochets indiquent la position du premier élément de la ligne dans notre vecteur. Ainsi, le 155 en début de deuxième ligne est le 12<sup>e</sup> élément du vecteur, tandis que le 182 de la troisième ligne est à la 23<sup>e</sup> position.</p>
<p>On en déduira d’ailleurs que lorsque l’on fait :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span></code></pre>
<pre><code>[1] 2</code></pre>
<p><strong>R</strong> considère en fait le nombre 2 comme un vecteur à un seul élément.</p>
<p>On peut appliquer des opérations arithmétiques simples directement sur des vecteurs :</p>
<pre class="sourceCode r"><code class="sourceCode r">tailles &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">167</span>, <span class="dv">192</span>, <span class="dv">173</span>, <span class="dv">174</span>, <span class="dv">172</span>, <span class="dv">167</span>, <span class="dv">171</span>, <span class="dv">185</span>, 
  <span class="dv">163</span>, <span class="dv">170</span>)
tailles +<span class="st"> </span><span class="dv">20</span></code></pre>
<pre><code> [1] 187 212 193 194 192 187 191 205 183 190</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">tailles/<span class="dv">100</span></code></pre>
<pre><code> [1] 1.67 1.92 1.73 1.74 1.72 1.67 1.71 1.85 1.63
[10] 1.70</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">tailles^<span class="dv">2</span></code></pre>
<pre><code> [1] 27889 36864 29929 30276 29584 27889 29241
 [8] 34225 26569 28900</code></pre>
<p>On peut aussi combiner des vecteurs entre eux. L’exemple suivant calcule l’indice de masse corporelle à partir de la taille et du poids :</p>
<pre class="sourceCode r"><code class="sourceCode r">tailles &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">167</span>, <span class="dv">192</span>, <span class="dv">173</span>, <span class="dv">174</span>, <span class="dv">172</span>, <span class="dv">167</span>, <span class="dv">171</span>, <span class="dv">185</span>, 
  <span class="dv">163</span>, <span class="dv">170</span>)
poids &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">86</span>, <span class="dv">74</span>, <span class="dv">83</span>, <span class="dv">50</span>, <span class="dv">78</span>, <span class="dv">66</span>, <span class="dv">66</span>, <span class="dv">51</span>, <span class="dv">50</span>, <span class="dv">55</span>)
tailles.m &lt;-<span class="st"> </span>tailles/<span class="dv">100</span>
imc &lt;-<span class="st"> </span>poids/(tailles.m^<span class="dv">2</span>)
imc</code></pre>
<pre><code> [1] 30.83653 20.07378 27.73230 16.51473 26.36560
 [6] 23.66524 22.57105 14.90139 18.81892 19.03114</code></pre>
<div class="important">
<p>Quand on fait des opérations sur les vecteurs, il faut veiller à soit utiliser un vecteur et un chiffre (dans des opérations du type <code>v * 2</code> ou <code>v + 10</code>), soit à utiliser des vecteurs de même longueur (dans des opérations du type <code>u + v</code>).</p>
Si on utilise des vecteurs de longueur différentes, on peut avoir quelques surprises. Quand <strong>R</strong> effectue une opération avec deux vecteurs de longueurs différentes, il recopie le vecteur le plus court de manière à lui donner la même taille que le plus long, ce qui s’appelle la règle de recyclage (<em>recycling rule</em>). Ainsi, <code>c(1,2) + c(4,5,6,7,8)</code> vaudra l’équivalent de <code>c(1,2,1,2,1) + c(4,5,6,7,8)</code>.
</div>
<p>On a vu jusque-là des vecteurs composés de nombres, mais on peut tout à fait créer des vecteurs composés de chaînes de caractères, représentant par exemple les réponses à une question ouverte ou fermée :</p>
<p>reponse &lt;- c(“Bac+2”, “Bac”, “CAP”, “Bac”, “Bac”, “CAP”, “BEP”)</p>
<p>Enfin, notons que l’on peut accéder à un élément particulier du vecteur en faisant suivre le nom du vecteur de crochets contenant le numéro de l’élément désiré. Par exemple :</p>
<pre class="sourceCode r"><code class="sourceCode r">reponse &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Bac+2&quot;</span>, <span class="st">&quot;Bac&quot;</span>, <span class="st">&quot;CAP&quot;</span>, <span class="st">&quot;Bac&quot;</span>, <span class="st">&quot;Bac&quot;</span>, <span class="st">&quot;CAP&quot;</span>, 
  <span class="st">&quot;BEP&quot;</span>)
reponse[<span class="dv">2</span>]</code></pre>
<pre><code>[1] &quot;Bac&quot;</code></pre>
<p>Cette opération s’appelle l’<em>indexation</em> d’un vecteur. Il s’agit ici de sa forme la plus simple, mais il en existe d’autres beaucoup plus complexes. L’indexation des vecteurs et des tableaux dans <strong>R</strong> est l’un des éléments particulièrement souples et puissants du langage (mais aussi l’un des plus délicats à comprendre et à maîtriser). Nous en reparlerons dans le chapitre sur la <a href="pem_manipulation.html#indexation">manipulation de données</a>.</p>
<p>Sous <strong>RStudio</strong>, vous avez du remarquer que ce dernier effectue une coloration syntaxique. Lorsque vous tapez une commande, les valeurs numériques sont affichées dans une certaine couleur, les valeurs textuelles dans une autre et les noms des fonctions dans une troisième. De plus, si vous tapez une parenthèse ouvrante, <strong>RStudio</strong> va créer automatiquement après le curseur la parenthèse fermante correspondante (de même avec les guillements ou les crochets). De plus, si vous placez le curseur juste après une parenthèse fermante, la parenthèse ouvrante correspondante sera surlignée, ce qui sera bien pratique lors de la rédaction de commandes complexes.</p>
</div>
</div>
<div id="des-fonctions" class="section level2">
<h2>Des fonctions</h2>
<p>Nous savons désormais faire des opérations simples sur des nombres et des vecteurs, stocker ces données et résultats dans des objets pour les réutiliser par la suite.</p>
<p>Pour aller un peu plus loin nous allons aborder, après les objets, l’autre concept de base de <strong>R</strong>, à savoir les <em>fonctions</em>. Une fonction se caractérise de la manière suivante :</p>
<ul>
<li>elle a un nom ;</li>
<li>elle accepte des arguments (qui peuvent avoir un nom ou pas) ;</li>
<li>elle retourne un résultat et peut effectuer une action comme dessiner un graphique ou lire un fichier.</li>
</ul>
<p>En fait rien de bien nouveau puisque nous avons déjà utilisé plusieurs fonctions jusqu’ici, dont la plus visible est la fonction <code data-package="&quot;base">c</code>. Dans la ligne suivante :</p>
<p>reponse &lt;- c(“Bac+2”, “Bac”, “CAP”, “Bac”, “Bac”, “CAP”, “BEP”)</p>
<p>on fait appel à la fonction nommée <code data-package="base">c</code>, on lui passe en arguments (entre parenthèses et séparées par des virgules) une série de chaînes de caractères et elle retourne comme résultat un vecteur de chaînes de caractères, que nous stockons dans l’objet <code>reponse</code>.</p>
<p>Prenons tout de suite d’autres exemples de fonctions courantes :</p>
<p>tailles &lt;- c(167, 192, 173, 174, 172, 167, 171, 185, 163, 170) length(tailles) mean(tailles) var(tailles)</p>
<p>Ici, la fonction <code data-package="base">length</code> nous renvoie le nombre d’éléments du vecteur, la fonction <code data-package="base">mean</code> nous donne la moyenne des éléments du vecteur et fonction <code data-package="stats" data-rdocumentation="cor">var</code> sa variance.</p>
<div id="arguments" class="section level3">
<h3>Arguments</h3>
<p>Les arguments de la fonction lui sont indiqués entre parenthèses, juste après son nom. En général les premiers arguments passés à la fonction sont des données servant au calcul et les suivants des paramètres influant sur ce calcul. Ceux-ci sont en général transmis sous la forme d’argument nommés.</p>
<p>Reprenons l’exemple des tailles précédent :</p>
<p>tailles &lt;- c(167, 192, 173, 174, 172, 167, 171, 185, 163, 170)</p>
<p>Imaginons que le deuxième enquêté n’ait pas voulu nous répondre. Nous avons alors dans notre vecteur une valeur manquante. Celle-ci est symbolisée dans <strong>R</strong> par le code <code>NA</code> :</p>
<p>tailles &lt;- c(167, NA, 173, 174, 172, 167, 171, 185, 163, 170)</p>
<p>Recalculons notre taille moyenne :</p>
<p>mean(tailles)</p>
<p>Et oui, par défaut, <strong>R</strong> renvoie <code>NA</code> pour un grand nombre de calculs (dont la moyenne) lorsque les données comportent une valeur manquante. On peut cependant modifier ce comportement en fournissant un paramètre supplémentaire à la fonction <code data-package="base">mean</code>, nommé <code>na.rm</code> :</p>
<p>mean(tailles, na.rm = TRUE)</p>
<p>Positionner le paramètre <code>na.rm</code> à <code>TRUE</code> (vrai) indique à la fonction <code data-package="base">mean</code> de ne pas tenir compte des valeurs manquantes dans le calcul.</p>
<p>Lorsqu’on passe un argument à une fonction de cette manière, c’est-à-dire sous la forme <code>nom=valeur</code>, on parle d’<em>argument nommé</em>.</p>
<div class="important">
<code>NA</code> signifie <em>not available</em>. Cette valeur particulière peut être utilisée pour indiquer une valeur manquante pour tout type de liste (nombres, textes, valeurs logique, etc.).
</div>
</div>
<div id="quelques-fonctions-utiles" class="section level3">
<h3>Quelques fonctions utiles</h3>
<p>Récapitulons la liste des fonctions que nous avons déjà rencontrées :</p>
<table>
<thead>
<tr class="header">
<th align="left">Fonction</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code data-package="base">c</code></td>
<td align="left">construit un vecteur à partir d’une série de valeurs</td>
</tr>
<tr class="even">
<td align="left"><code data-package="base">length</code></td>
<td align="left">nombre d’éléments d’un vecteur</td>
</tr>
<tr class="odd">
<td align="left"><code data-package="base">mean</code></td>
<td align="left">moyenne d’un vecteur de type numérique</td>
</tr>
<tr class="even">
<td align="left"><code data-package="stats" data-rdocumentation="cor">var</code></td>
<td align="left">variance d’un vecteur de type numérique</td>
</tr>
<tr class="odd">
<td align="left"><code data-package="base" data-rdocumentation="Arithmetic">+</code>, <code data-package="base" data-rdocumentation="Arithmetic">-</code>, <code data-package="base" data-rdocumentation="Arithmetic">*</code>, <code data-package="base" data-rdocumentation="Arithmetic">/</code></td>
<td align="left">opérateurs mathématiques de base</td>
</tr>
<tr class="even">
<td align="left"><code data-package="base" data-rdocumentation="Arithmetic">ˆ</code></td>
<td align="left">passage à la puissance</td>
</tr>
</tbody>
</table>
<p>On peut rajouter les fonctions de base suivantes :</p>
<table>
<thead>
<tr class="header">
<th align="left">Fonction</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code data-package="base" data-rdocumentation="Extremes">min</code></td>
<td align="left">valeur minimale d’un vecteur numérique</td>
</tr>
<tr class="even">
<td align="left"><code data-package="base" data-rdocumentation="Extremes">max</code></td>
<td align="left">valeur maximale d’un vecteur numérique</td>
</tr>
<tr class="odd">
<td align="left"><code data-package="stats">sd</code></td>
<td align="left">écart-type d’un vecteur numérique</td>
</tr>
<tr class="even">
<td align="left"><code data-package="base" data-rdocumentation="Colon">:</code></td>
<td align="left">génère une séquence de nombres. <code>1:4</code> équivaut à <code>c(1,2,3,4)</code></td>
</tr>
</tbody>
</table>
</div>
<div id="aide-sur-une-fonction" class="section level3">
<h3>Aide sur une fonction</h3>
<p>Il est très fréquent de ne plus se rappeler quels sont les paramètres d’une fonction ou le type de résultat qu’elle retourne. Dans ce cas on peut très facilement accéder à l’aide décrivant une fonction particulière avec <code data-package="=&quot;utils&quot;" data-rdocumentation="=&quot;Question&quot;">?</code> ou <code data-package="utils">help</code>. Ainsi, pour obtenir de l’aide sur la fonction <code data-package="base">mean</code>, on saisira l’une des deux entrées équivalentes suivantes :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="st">`</span><span class="dt">?</span><span class="st">`</span>(mean)
<span class="kw">help</span>(<span class="st">&quot;mean&quot;</span>)</code></pre>
<div class="note">
L’utilisation du raccourci <code data-package="=&quot;utils&quot;" data-rdocumentation="=&quot;Question&quot;">?</code> ne fonctionne pas pour certains opérateurs comme <code data-package="base" data-rdocumentation="Arithmetic">*</code>. Dans ce cas on pourra utiliser <code>?'*'</code> ou bien simplement <code>help(&quot;*&quot;)</code>.
</div>
<p>Sous <strong>RStudio</strong>, le fichier d’aide associé apparaitra dans le quadrant inférieur droit sous l’onglet <em>Help</em>.</p>
<figure>
<img src="images/capture_RStudio_onglet_help.png" alt="Onglet Help de RStudio" />
<figcaption>
Onglet Help de RStudio
</figcaption>
</figure>
<p>Cette page décrit (en anglais) la fonction, ses arguments, son résultat, le tout accompagné de diverses notes, références et exemples. Ces pages d’aide contiennent à peu près tout ce que vous pourrez chercher à savoir, mais elles ne sont pas toujours d’une lecture aisée.</p>
<p>Un autre cas très courant dans <strong>R</strong> est de ne pas se souvenir ou de ne pas connaître le nom de la fonction effectuant une tâche donnée. Dans ce cas on se reportera aux différentes manières de trouver de l’aide décrites dans le chapitre [Où trouver de l’aide ?] MAJ_LIEN.</p>
</div>
<div id="interpretation-des-arguments" class="section level3">
<h3>Interprétation des arguments</h3>
<p>Prenons l’exemple de la fonction <code data-package="base">format</code> dont la version de base permet de mettre en forme un nombre. Affichons le fichier d’aide associé.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="st">`</span><span class="dt">?</span><span class="st">`</span>(format)</code></pre>
<p>La section <em>Usage</em> présente les arguments de cette fonction et leur valeur par défaut :</p>
<pre>
format(x, trim = FALSE, digits = NULL, nsmall = 0L,
       justify = c("left", "right", "centre", "none"),
       width = NULL, na.encode = TRUE, scientific = NA,
       big.mark = "",   big.interval = 3L,
       small.mark = "", small.interval = 5L,
       decimal.mark = ".", zero.print = NULL,
       drop0trailing = FALSE, ...)
</pre>
<p>Regardons ce que cette fonction peut faire. Passons-lui un vecteur avec deux nombres :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">format</span>(<span class="kw">c</span>(<span class="fl">12.3</span>, <span class="dv">5678</span>))</code></pre>
<pre><code>[1] &quot;  12.3&quot; &quot;5678.0&quot;</code></pre>
<p>Elle renvoie un vecteur de chaînes de caractères. Le nombre de décimales a été harmonisé et des espaces ont été ajoutés au début du premier nombre afin que l’ensemble des valeurs soient alignées vers la droite.</p>
<p>L’argument <code>trim</code> permet de supprimer les espaces ajoutés en début de chaîne.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">format</span>(<span class="kw">c</span>(<span class="fl">12.3</span>, <span class="dv">5678</span>), <span class="ot">TRUE</span>)</code></pre>
<pre><code>[1] &quot;12.3&quot;   &quot;5678.0&quot;</code></pre>
<p>Dans le cas présent, nous avons saisi les arguments de la fonction sans les nommer. Dès lors, <strong>R</strong> considère l’ordre dans lesquels nous avons saisi les arguments, ordre qui correspond à celui du fichier d’aide. Il a dès lors considéré que <code>c(12.3, 5678)</code> correspond à la valeur attribuée à <code>x</code> et que <code>TRUE</code> est la valeur attribuée à <code>trim</code>.</p>
<p>L’argument <code>nsmall</code> permet d’indiquer le nombre minimum de décimales que l’on souhaite afficher. Il est en quatrième position. Dès lors, pour pouvoir le renseigner avec des arguments non nommés, il faut fournir également une valeur pour le troisième argument <code>digits</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">format</span>(<span class="kw">c</span>(<span class="fl">12.3</span>, <span class="dv">5678</span>), <span class="ot">TRUE</span>, <span class="ot">NULL</span>, <span class="dv">2</span>)</code></pre>
<pre><code>[1] &quot;12.30&quot;   &quot;5678.00&quot;</code></pre>
<p>Ce n’est pas forcément ce qu’il y a de plus pratique. D’où l’intérêt des <em>arguments nommés</em>. En précisant <code>nsmall =</code> dans l’appel de la fonction, on pourra indiquer que l’on souhaite modifier spécifiquement cet argument. Lorsque l’on utilise des arguments non nommés, l’ordre n’importe plus puisque <strong>R</strong> sera en capacité de reconnaître ses petits.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">format</span>(<span class="dt">nsmall =</span> <span class="dv">2</span>, <span class="dt">x =</span> <span class="kw">c</span>(<span class="fl">12.3</span>, <span class="dv">5678</span>))</code></pre>
<pre><code>[1] &quot;  12.30&quot; &quot;5678.00&quot;</code></pre>
<p>À l’usage, on aura le plus souvent recours à une combinaison d’arguments non nommés et d’arguments nommés. On indiquera les premiers arguments (qui correspondent en général aux données de départ) sans les nommer et on précisera les options souhaitées avec des arguments nommés. Par exemple, pour un affichage à la française :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">format</span>(<span class="kw">c</span>(<span class="fl">12.3</span>, <span class="dv">5678</span>), <span class="dt">decimal.mark =</span> <span class="st">&quot;,&quot;</span>, <span class="dt">big.mark =</span> <span class="st">&quot; &quot;</span>)</code></pre>
<pre><code>[1] &quot;   12,3&quot; &quot;5 678,0&quot;</code></pre>
<p>Lorsque l’on regarde la section <em>Usage</em> du fichier d’aide, il apparait que certains arguments, suivi par le symbole <code>=</code>, ont une valeur par défaut. Il n’est donc pas nécessaire de les inclure dans l’appel de la fonction, auquel cas la valeur pas défaut sera prise en compte. Par contre, d’autres arguments, ici <code>x</code>, n’ont pas de valeur par défaut et il est donc nécessaire de fournir systématique une valeur.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">format</span>(<span class="dt">decimal.mark =</span> <span class="st">&quot;,&quot;</span>)</code></pre>
<pre><code>Error in format.default(decimal.mark = &quot;,&quot;): l&#39;argument &quot;x&quot; est manquant, avec aucune valeur par défaut</code></pre>
<p>Enfin, pour certaines fonctions, on verra parfois apparaître le symbole <code>...</code> Ce dernier correspond à un nombre indéterminé d’arguments. Il peut s’agir, comme dans le cas de <code data-package="base">format</code> d’arguments additionnels qui seront utilisés dans certains cas de figure, ou bien d’arguments qui seront transmis à une fonction secondaire appelée par la fonction principale, ou encore, comme pour le cas de la fonction <code data-package="base">c</code>, de la possibilité de saisir un nombre indéfini de données sources.</p>
</div>
<div id="auto-completion" class="section level3">
<h3>Auto-complétion</h3>
<p><strong>RStudio</strong> fournit un outil bien pratique appelé <em>auto-complétion</em>. Saisissez les premières lettres d’une fonction, par exemple <code>me</code> puis appuyez sur la touche <kbd>Tabulation</kbd>. <strong>RStudio</strong> affichera la liste des fonctions dont le nom commence par <code>me</code> ainsi qu’un court descriptif de chacune. Un appui sur la touche <kbd>Entrée</kbd> provoquera la saisie du nom complet de la fonction choisie.</p>
<figure>
<img src="images/capture_RStudio_autocompletion.png" alt="Auto-complétion sous RStudio" />
<figcaption>
Auto-complétion sous RStudio
</figcaption>
</figure>
<p>À l’intérieur des parenthèses d’une fonctionn, vous pouvez utiliser l’auto-complétion pour retrouver un argument de cette fonction.</p>
<p>Vous pouvez également utiliser l’auto-complétion pour retrouver le nom d’un objet que vous avez précédemment créé.</p>
<p>Pour plus de détails, voir la documentation officielle de <strong>RStudio</strong> (MAJ_LIEN).</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>La présence du <code>[1]</code> en début de ligne sera expliquée par la suite dans la section sur les <a href="#vecteurs">vecteurs</a>.<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p><code data-package="base">c</code> est l’abbréviation de <em>combine</em>. Le nom de cette fonction est très court car on l’utilise très souvent.<a href="#fnref2">↩</a></p></li>
</ol>
</div>

</article>
</div>

<div class="col-sm-3" role="complementary">
<nav class="hidden-print hidden-xs" id="nav_sidebar">
</nav>
</div>

</div>

<script>
// manage active state of menu based on current page
$(document).ready(function () {

    // active menu
    href = window.location.pathname;
    href = href.substr(href.lastIndexOf('/') + 1);
    if (href=='') href = 'index.html';
    $('a[href="' + href + '"]').parent().addClass('active');

    // manage active menu header
    if (href.startsWith('pem_'))
      $('a[href="' + 'pem' + '"]').parent().addClass('active');
    else if (href.startsWith('analyses_'))
      $('a[href="' + 'analyses' + '"]').parent().addClass('active');
    else if (href.startsWith('avance_'))
      $('a[href="' + 'avance' + '"]').parent().addClass('active');

    // élargir la page d'accueil
    if (href=='index.html') $('.col-sm-9').attr('class','col-sm-12');

    // sidebar
    $("#nav_sidebar").append($("#TOC").html());
    $("#nav_sidebar ul").addClass("nav nav-stacked");
    $("#TOC").addClass("visible-xs-block");
    $('body').scrollspy({
      target: '#nav_sidebar',
      offset: 40
    });

    // Identifier les <pre> fermant
    $('pre').next("*:not(pre)").prev().addClass('last'); // Dernier <pre> de chaque groupe contigu de <pre>
    $('pre').parent().each(function (){
      $(this).children('pre').last().addClass('last');
    }); // Si <pre> est le dernier enfant de son parent

    // Ajout liens rdocumentation et tooltip
    $("code[data-package]").each(function( index ) {
      pack = $(this).attr('data-package');
      if ($(this).attr('data-rdocumentation') !== undefined) {
        rdocumentation = $(this).attr('data-rdocumentation');
        page = ' (' + $(this).attr('data-rdocumentation') + ')';
      } else {
        rdocumentation = $(this).text();
        page = '';
      }
      fonction = $(this).text();
      $(this).wrap('<a href="http://www.rdocumentation.org/packages/'+pack+'/functions/'+rdocumentation+'">');
      $(this).attr('data-toggle','tooltip');
      $(this).attr('data-placement','top');
      $(this).attr('title','package : ' + pack + page);
      $('[data-toggle="tooltip"]').tooltip();
    });

    $("strong.package").each(function( index ) {
      $(this).wrap('<a href="http://www.rdocumentation.org/packages/'+$(this).text()+'">');
    });

    // Figures
    $("figure").each(function( index ) {
      if ($(this).children("figcaption").length > 0)
        $(this).children("figcaption:first").prepend('<span class="figure-number">Figure '+(index+1)+'.</span> ');
      else
        $(this).append($("<figcaption>").append('<span class="figure-number">Figure '+(index+1)+'</span>'));
    });

    // ZeroClipboard
    $('pre.r').parent().each(function(){
      $(this).children('pre.r').first().before('<div class="zero-clipboard hidden-print hidden-xs"><button class="btn-clipboard">Copier</button></div>');
    }); // Il peut arriver que le pre ne soit pas précédé (cf. figures)
    $('*:not(pre):not(.zero-clipboard) + pre.r').before('<div class="zero-clipboard hidden-print hidden-xs"><button class="btn-clipboard">Copier</button></div>');
    $('pre.last').after(function() {
      if ($(this).hasClass("r")) res = $(this).text(); else res = "";
      $(this).prevUntil('*:not(pre)','pre.r').each(function() {
        res = $(this).text() + '\n' + res;
      });
      return '<div class="clipboard">' + res + '</div>';
    });
    $('.zero-clipboard').each(function(index){
      $(this).children('.btn-clipboard').attr('data-clipboard-target','clipboard_'+index);
      $(this).nextAll("div.clipboard").first().attr('id','clipboard_'+index);
    });
    var client = new ZeroClipboard( $(".btn-clipboard") );
    client.on( "ready", function( readyEvent ) {
      // alert( "ZeroClipboard SWF is ready!" );
      client.on( "aftercopy", function( event ) {
        // `this` === `client`
        // `event.target` === the element that was clicked
        //event.target.style.display = "none";
        $(event.target).parent().before('<div class="alert alert-success"><a href="#" class="close" data-dismiss="alert">&times;</a>Le code <strong>R</strong> de l’exemple a été copié dans le presse-papier.</div>');
      } );
    } );

});
</script>

<!-- disqus -->
<div class="row">
  <div id="disqus_thread" class="col-sm-9" role="complementary"></div>
</div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'analyse-r'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Veuillez activer JavaScript pour voir les <a href="http://disqus.com/?ref_noscript">les commentaires gérés avec Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">Les commentaires sont hébergés par <span class="logo-disqus">Disqus</span>.</a>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>
