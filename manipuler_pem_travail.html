<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Premier travail avec des données</title>

<script src="libs/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.1/css/flatly.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.1/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.1/shim/respond.min.js"></script>
<meta name="robots" content="index, follow">
<link rel="stylesheet" href="./include/analyse-R.css" />
<script type="text/javascript" src="./libs/zeroclipboard-2.2.0/ZeroClipboard.js"></script>
<link rel="stylesheet" href="./libs/colorbox-1.6.1/colorbox.css" />
<script type="text/javascript" src="./libs/colorbox-1.6.1/jquery.colorbox-min.js"></script>
<!--- favicon --->
<link rel="apple-touch-icon" sizes="57x57" href="./images/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="./images/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="./images/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="./images/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="./images/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="./images/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="./images/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="./images/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="./images/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="./images/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="./images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="./images/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="./images/favicon/favicon-16x16.png">
<link rel="manifest" href="./images/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="./images/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img { 
  max-width:100%; 
  height: auto; 
}
</style>
<div class="container-fluid main-container">

<nav>
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href=".">analyse-R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a href="manipuler" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Manipuler <span class="caret"></span></a>
          <ul class="dropdown-menu multi-column columns-3" role="menu" id="menu_manipuler">
            <div class="row">
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Prise en main</li>
                  <li><a href="manipuler_pem_presentation.html">Présentation et Philosophie</a></li>
                  <li><a href="manipuler_pem_installation.html">Installation de R et RStudio</a></li>
                  <li><a href="manipuler_pem_extensions.html">Extensions</a></li>
                  <li><a href="manipuler_pem_contact.html">Premier contact</a></li>
                  <li><a href="manipuler_pem_travail.html">Premier travail avec des données</a></li>
                  <li><a href="manipuler_pem_organiser.html">Organiser ses fichiers</a></li>
                  <li><a href="manipuler_pem_import.html">Import / Export de données</a></li>
                  <li><a href="manipuler_pem_variables.html">Variables</a></li>
                  <li class="dev"><a href="manipuler_pem_indexation.html">Indexation</a></li>
                  <li class="dev"><a href="manipuler_pem_recodage.html">Recodage</a></li>
                  <li><a href="manipuler_pem_export_graph.html">Exporter des graphiques</a></li>
                  <li><a href="manipuler_pem_aide.html">Où trouver de l'aide ?</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Manipulation de données (intermédiaire)</li>
                  <li class="dev"><a href="manipuler_inter_dplyr.html">Introduction à dplyr</a></li>
                  <li class="dev"><a href="manipuler_inter_data_table.html">Introduction à data.table</a></li>
                  <li class="dev"><a href="manipuler_inter_doublons.html">Doublons</a></li>
                  <li class="dev"><a href="manipuler_inter_tris.html">Tris</a></li>
                  <li class="dev"><a href="manipuler_inter_sous_ensembles.html">Sous-ensembles</a></li>
                  <li class="dev"><a href="manipuler_inter_fusion.html">Fusion de tables</a></li>
                  <li class="dev"><a href="manipuler_inter_dates.html">Gestion des dates</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
                  <li class="dropdown-header">Manipulation de données (avancée)</li>
                  <li class="dev"><a href="manipuler_avance_aggregation.html">Aggrégation</a></li>
                  <li class="dev"><a href="manipuler_avance_fenetre.html">Fonctions à fenêtre</a></li>
                  <li class="dev"><a href="manipuler_avance_restructuration.html">Restructuration de données</a></li>
  	            </ul>
              </div>
            </div>
          </ul>
        </li>
        <li class="dropdown">
          <a href="analyser" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Analyser <span class="caret"></span></a>
          <ul class="dropdown-menu multi-column columns-3" role="menu" id="menu_analyser">
            <div class="row">
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Statistiques introductives</li>
                  <li><a href="analyser_intro_stat_univ.html">Statistique univariée</a></li>
                  <li class="dev"><a href="analyser_intro_graph_univ.html">Graphiques univariés</a></li>
                  <li><a href="analyser_intro_stat_biv.html">Statistique bivariée</a></li>
                  <li class="dev"><a href="analyser_intro_graph_biv.html">Graphiques bivariés</a></li>
                  <li><a href="analyser_intro_donnees_pond.html">Données pondérées</a></li>
                  <li class="dev"><a href="analyser_intro_graph_donnees_pond.html">Graphiques de données pondérées</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Statistiques intermédiaires</li>
  		            <li class="dev"><a href="analyser_inter_int_conf.html">Intervalles de confiance</a></li>
                  <li class="dev"><a href="analyser_inter_comp.html">Comparaisons (moyennes et proportions)</a></li>
                  <li><a href="analyser_inter_echant_compl.html">Définir un plan d'échantillonnage complexe</a></li>
                  <li class="dev"><a href="analyser_inter_reg_lin.html">Régression linéaire</a></li>
                  <li><a href="analyser_inter_reg_log.html">Régression logistique</a></li>
                  <li class="dev"><a href="analyser_inter_acp.html">Analyse en composantes principales (ACP)</a></li>
                  <li><a href="analyser_inter_acm.html">Analyse des correspondances multiples (ACM)</a></li>
                  <li><a href="analyser_inter_cah.html">Classification ascendante hiérarchique (CAH)</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
                  <li class="dropdown-header">Statistiques avancées</li>
                  <li class="dev"><a href="analyser_avance_effets_mixtes.html">Modèles linéaires à effets mixtes</a></li>
                  <li class="dev"><a href="analyser_avance_gee.html">Modèles GEE</a></li>
                  <li class="dev"><a href="analyser_avance_series_temp.html">Séries temporelles</a></li>
                  <li class="dev"><a href="analyser_avance_temps_discret.html">Modèles à temps discret</a></li>
                  <li class="dev"><a href="analyser_avance_survie.html">Analyse de survie</a></li>
                  <li><a href="analyser_avance_seq.html">Analyse de séquences</a></li>
                  <li class="dev"><a href="analyser_avance_reseaux.html">Analyse de réseaux</a></li>
                  <li class="dev"><a href="analyser_avance_spatial.html">Analyse spatiale</a></li>
  	            </ul>
              </div>
            </div>
          </ul>
        </li>
        <li class="dropdown">
          <a href="approfondir" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Approfondir <span class="caret"></span></a>
          <ul class="dropdown-menu multi-column columns-3" role="menu" id="menu_approfondir">
            <div class="row">
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Graphiques</li>
                  <li class="dev"><a href="approfondir_graph_ggplot2.html">ggplot2 : la grammaire des graphiques</a></li>
                  <li class="dev"><a href="approfondir_graph_etendre_ggplot2.html">Étendre ggplot2</a></li>
                  <li class="dev"><a href="approfondir_graph_lattice.html">lattice : graphiques et formules</a></li>
                  <li class="dev"><a href="approfondir_graph_diagrammes.html">Diagrammes</a></li>
                  <li class="dev"><a href="approfondir_graph_flux.html">Représenter des flux</a></li>
                  <li class="dev"><a href="approfondir_graph_reseaux_dyn.html">Réseaux dynamiques</a></li>
                  <li class="dev"><a href="approfondir_graph_ggvis.html">ggvis : les graphiques interactifs</a></li>
                  <li class="dev"><a href="approfondir_graph_htmlwidgets.html">htmlwidgets : la puissance de javascript</a></li>
                  <li class="dev"><a href="approfondir_graph_cartes.html">Cartes</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Programmation</li>
                  <li class="dev"><a href="approfondir_code_formules.html">Formules</a></li>
                  <li class="dev"><a href="approfondir_code_struct_cond.html">Structures conditionnelles</a></li>
                  <li class="dev"><a href="approfondir_code_regexp.html">Expressions régulières</a></li>
                  <li class="dev"><a href="approfondir_code_fonctions.html">Écrire ses propres fonctions</a></li>
                  <li class="dev"><a href="approfondir_code_rmarkdown.html">R Markdown : les rapports automatisés</a></li>
                  <li class="dev"><a href="approfondir_code_shiny.html">Shiny : les interfaces interactives</a></li>
                  <li class="dev"><a href="approfondir_code_git.html">Git</a></li>
                  <li class="dev"><a href="approfondir_code_package.html">Développer un package</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
                  <li class="dropdown-header">Divers</li>
                  <li><a href="approfondir_divers_age.html">Calculer un âge</a></li>
                  <li class="dev"><a href="approfondir_divers_prevR.html">prevR : cartes de prévalence à partir des EDS</a></li>
  	            </ul>
              </div>
            </div>
          </ul>
        </li>
        <li class="dropdown">
          <a href="index" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Index <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu" id="menu_naviguer">
            <li><a href="index_concepts.html">Index des concepts</a></li>
            <li><a href="index_fonctions.html">Index des fonctions</a></li>
            <li><a href="index_extensions.html">Index des extensions</a></li>
          </ul>
        </li>
        <li><a href="analyse-R.pdf">PDF</a></li>
      </ul>
    <form id="rechercher" class="navbar-form" role="search" style="padding-top: 5px;" method="get" action="https://duckduckgo.com/">
      <div class="form-group">
        <input name="q" type="text" class="form-control input-sm" placeholder="Rechercher">
      </div>
      <button type="submit" class="btn btn-default btn-sm" name="Rechercher">
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </button>
    </form>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
</nav>

<div class="row">

<a href="https://github.com/larmarange/analyse-R"><img style="position: absolute; top: 60px; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Contribuer sur GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>

<div class="col-sm-9" role="main">
<article>

<div id="header">
<h1 class="title">Premier travail avec des données</h1>
</div>

<div id="TOC">
<ul>
<li><a href="#regrouper-les-commandes-dans-des-scripts">Regrouper les commandes dans des scripts</a></li>
<li><a href="#ajouter-des-commentaires">Ajouter des commentaires</a></li>
<li><a href="#tableaux-de-donnees">Tableaux de données</a></li>
<li><a href="#inspecter">Inspection visuelle des données</a></li>
<li><a href="#structure-du-tableau">Structure du tableau</a></li>
<li><a href="#acceder-aux-variables">Accéder aux variables</a></li>
<li><a href="#la-fonction-str">La fonction str</a></li>
<li><a href="#la-fonction-describe">La fonction describe</a></li>
</ul>
</div>

<div class="note">
Ce chapitre est inspiré de la section <em>Premier travail avec les données</em> du support de cours <a href="https://github.com/juba/intro-r">Introduction à R</a> réalisé par Julien Barnier.
</div>
<div id="regrouper-les-commandes-dans-des-scripts" class="section level2">
<h2>Regrouper les commandes dans des scripts</h2>
<p>Jusqu’à maintenant nous avons utilisé uniquement la console pour communiquer avec <strong>R</strong> via l’invite de commandes. Le principal problème de ce mode d’interaction est qu’une fois qu’une commande est tapée, elle est pour ainsi dire « perdue », c’est-à-dire qu’on doit la saisir à nouveau si on veut l’exécuter une seconde fois. L’utilisation de la console est donc restreinte aux petites commandes « jetables », le plus souvent utilisées comme test.</p>
<p>La plupart du temps, les commandes seront stockées dans un fichier à part, que l’on pourra facilement ouvrir, éditer et exécuter en tout ou partie si besoin. On appelle en général ce type de fichier un <dfn>script</dfn><dfn data-index="fichier de commandes"></dfn>.</p>
<p>Pour comprendre comment cela fonctionne, dans <strong>RStudio</strong> cliquez sur l’icône en haut à gauche représentant un fichier avec un signe plus vert, puis choisissez <em>R script</em>.</p>
<figure>
<img src="images/capture_RStudio_new_R_script.png" alt="Créer un nouveau script R dans RStudio" />
<figcaption>
Créer un nouveau script R dans RStudio
</figcaption>
</figure>
<p>Un nouvel onglet apparaît dans le quadrant supérieur gauche.</p>
<figure>
<img src="images/capture_RStudio_onglet_R_script.png" alt="Onglet d’un script R dans RStudio" />
<figcaption>
Onglet d’un script R dans RStudio
</figcaption>
</figure>
<p>Nous pouvons désormais y saisir des commandes. Par exemple, tapez sur la première ligne la commande suivante : <code>2 + 2</code>. Ensuite, cliquez sur l’icône <em>Run</em> (en haut à droite de l’onglet du script) ou bien pressez simulatément les touches <kbd>CTRL</kbd> et <kbd>Entrée</kbd><a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>.</p>
<p>Les lignes suivantes ont dû faire leur apparition dans la console :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span> +<span class="st"> </span><span class="dv">2</span></code></pre>
<pre><code>[1] 4</code></pre>
<p>Voici donc comment soumettre rapidement à <strong>R</strong> les commandes saisies dans votre fichier. Vous pouvez désormais l’enregistrer, l’ouvrir plus tard, et en exécuter tout ou partie. À noter que vous avez plusieurs possibilités pour soumettre des commandes à <strong>R</strong> :</p>
<ul>
<li>vous pouvez exécuter la ligne sur laquelle se trouve votre curseur en cliquant sur <em>Run</em> ou en pressant simulatément les touches <kbd>CTRL</kbd> et <kbd>Entrée</kbd> ;</li>
<li>vous pouvez sélectionner plusieurs lignes contenant des commandes et les exécuter toutes en une seule fois exactement de la même manière ;</li>
<li>vous pouvez exécuter d’un coup l’intégralité de votre fichier en cliquant sur l’icône <em>Source</em>.</li>
</ul>
<p>La plupart du travail sous <strong>R</strong> consistera donc à éditer un ou plusieurs fichiers de commandes et à envoyer régulièrement les commandes saisies à <strong>R</strong> en utilisant les raccourcis clavier <em>ad hoc</em>.</p>
<p>Pour plus d’information sur l’utilisation des scripts <strong>R</strong> dans <strong>RStudio</strong>, voir (en anglais) : <a href="https://support.rstudio.com/hc/en-us/articles/200484448-Editing-and-Executing-Code" class="uri">https://support.rstudio.com/hc/en-us/articles/200484448-Editing-and-Executing-Code</a>.</p>
<div class="note">
Quand vous enregistrez un script sous <strong>RStudio</strong>, il est possible qu’il vous demande de choisir un type d’encodage des caractères (<em>Choose Encoding</em>). Si tel est le cas, utilisez de préférence <strong>UTF-8</strong>.
</div>
</div>
<div id="ajouter-des-commentaires" class="section level2">
<h2>Ajouter des commentaires</h2>
<p>Un <dfn>commentaire</dfn> est une ligne ou une portion de ligne qui sera ignorée par <strong>R</strong>. Ceci signifie qu’on peut y écrire ce qu’on veut et qu’on va les utiliser pour ajouter tout un tas de commentaires à notre code permettant de décrire les différentes étapes du travail, les choses à se rappeler, les questions en suspens, etc.</p>
<p>Un commentaire sous <strong>R</strong> commence par un ou plusieurs symboles <code>#</code> (qui s’obtient avec les touches <kbd>Alt Gr</kbd> et <kbd>3</kbd> sur les claviers de type PC). Tout ce qui suit ce symbole jusqu’à la fin de la ligne est considéré comme un commentaire. On peut créer une ligne entière de commentaire en la faisant débuter par <code>##</code>. Par exemple :</p>
<pre class="sourceCode r"><code class="sourceCode r">## Tableau croisé de la CSP par le nombre de livres
## lus.  Attention au nombre de non réponses !</code></pre>
<p>On peut aussi créer des commentaires pour une ligne en cours :</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">2</span>  <span class="co"># On met 2 dans x, parce qu&#39;il le vaut bien</span></code></pre>
<div class="important">
Dans tous les cas, il est très important de documenter ses fichiers <strong>R</strong> au fur et à mesure, faute de quoi on risque de ne plus y comprendre grand chose si on les reprend ne serait-ce que quelques semaines plus tard.
</div>
<p>Avec <strong>RStudio</strong>, vous pouvez également utiliser les commentaires pour créer des <dfn data-index="section">sections</dfn> au sein de votre script et naviguer plus rapidement. Il suffit de faire suivre une ligne de commentaires d’au moins 4 signes moins (<code>----</code>). Par exemple, si vous saisissez ceci dans votre script :</p>
<pre class="sourceCode r"><code class="sourceCode r">## Créer les objets ----

x &lt;-<span class="st"> </span><span class="dv">2</span>
y &lt;-<span class="st"> </span><span class="dv">5</span>

## Calculs ----

x +<span class="st"> </span>y</code></pre>
<p>Vous verrez apparaître en bas à gauche de la fenêtre du script un symbole dièse orange. Si vous cliquez dessus, un menu de navigation s’affichera vous permettant de vous déplacez rapidement au sein de votre script. Pour plus d’information, voir la documentation de <strong>RStudio</strong> (en anglais) : <a href="https://support.rstudio.com/hc/en-us/articles/200484568-Code-Folding-and-Sections" class="uri">https://support.rstudio.com/hc/en-us/articles/200484568-Code-Folding-and-Sections</a>.</p>
<figure>
<img src="images/capture_RStudio_navigation_script.png" alt="Navigation rapide dans les scripts sous RStudio" />
<figcaption>
Navigation rapide dans les scripts sous RStudio
</figcaption>
</figure>
<p>Note : on remarquera au passage que le titre de l’onglet est affiché en rouge et suivi d’une astérisque (<code>*</code>), nous indiquant ainsi qu’il y a des modifications non enregistrées dans notre fichier.</p>
</div>
<div id="tableaux-de-donnees" class="section level2">
<h2>Tableaux de données</h2>
<p>Dans cette partie nous allons utiliser un jeu de données inclus dans l’extension <code class="pkg">questionr</code>. L’installation d’extension est décrite dans le chapitre <a href="pem_presentation_installation.html#installer_extensions">Présentation et Installation</a>.</p>
<p>Le jeu de données en question est un extrait de l’enquête <em>Histoire de vie</em> réalisée par l’INSEE en 2003. Il contient 2000 individus et 20 variables. Pour pouvoir utiliser ces données, il faut d’abord charger l’extension <code class="pkg">questionr</code> (après l’avoir installée, bien entendu). Le chargement d’une extension en mémoire se fait à l’aide de la fonction <code data-pkg="base">library</code>. Sous <strong>RStudio</strong>, vous pouvez également charger une extension en allant dans l’onglet <em>Packages</em> du quadrant inférieur droit qui liste l’ensemble des packages disponibles et en cliquant la case à cocher située à gauche du nom du package désiré.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(questionr)</code></pre>
<p>Puis nous allons indiquer à <strong>R</strong> que nous souhaitons accéder au jeu de données <code data-pkg="questionr">hdv2003</code> à l’aide de la fonction <code data-pkg="utils">data</code> :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(hdv2003)</code></pre>
<p>Bien. Et maintenant, elles sont où mes données ? Et bien elles se trouvent dans un objet nommé <code>hdv2003</code> désormais chargé en mémoire et accessible directement. D’ailleurs, cet objet est maintenant visible dans l’onglet <em>Environment</em> du quadrant supérieur droit.</p>
<p>Essayons de taper son nom à l’invite de commande :</p>
<pre class="sourceCode r"><code class="sourceCode r">hdv2003</code></pre>
<p>Le résultat (non reproduit ici) ne ressemble pas forcément à grand-chose… Il faut se rappeler que par défaut, lorsqu’on lui fournit seulement un nom d’objet, <strong>R</strong> essaye de l’afficher de la manière la meilleure (ou la moins pire) possible. La réponse à la commande <code>hdv2003</code> n’est donc rien moins que l’affichage des données brutes contenues dans cet objet.</p>
<p>Ce qui signifie donc que l’intégralité de notre jeu de données est inclus dans l’objet nommé <code>hdv2003</code> ! En effet, dans <strong>R</strong>, un objet peut très bien contenir un simple nombre, un vecteur ou bien le résultat d’une enquête tout entier. Dans ce cas, les objets sont appelés des <dfn data-index="data frame" lang="en">data frames</dfn>, ou <dfn data-index="tableau de donnée">tableaux de données</dfn>. Ils peuvent être manipulés comme tout autre objet. Par exemple :</p>
<pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span>hdv2003</code></pre>
<p>va entraîner la copie de l’ensemble de nos données dans un nouvel objet nommé <code>d</code>, ce qui peut paraître parfaitement inutile mais a en fait l’avantage de fournir un objet avec un nom beaucoup plus court, ce qui diminuera la quantité de texte à saisir par la suite.</p>
<p><strong>Résumons</strong></p>
<p>Comme nous avons désormais décidé de saisir nos commandes dans un script et non plus directement dans la console, les premières lignes de notre fichier de travail sur les données de l’enquête <em>Histoire de vie</em> pourraient donc ressembler à ceci :</p>
<pre class="sourceCode r"><code class="sourceCode r">## Chargement des extensions nécessaires ----
<span class="kw">library</span>(questionr)
## Jeu de données hdv2003 ----
<span class="kw">data</span>(hdv2003)
d &lt;-<span class="st"> </span>hdv2003</code></pre>
</div>
<div id="inspecter" class="section level2">
<h2>Inspection visuelle des données</h2>
<p>La particularité de <strong>R</strong> par rapport à d’autres logiciels comme <strong>Modalisa</strong> ou <strong>SPSS</strong> est de ne pas proposer, par défaut, de vue des données sous forme de tableau. Ceci peut parfois être un peu déstabilisant dans les premiers temps d’utilisation, même si l’on perd vite l’habitude et qu’on finit par se rendre compte que « voir » les données n’est pas forcément un gage de productivité ou de rigueur dans le traitement.</p>
<p>Néanmoins, <strong>R</strong> propose une interface permettant de visualiser le contenu d’un tableau de données à l’aide de la fonction <code data-pkg="utils">View</code> :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">View</span>(d)</code></pre>
<p>Sous <strong>RStudio</strong>, on peut aussi afficher la <dfn>visionneusee</dfn> (<dfn lang="en">viewer</dfn>) en cliquant sur la petite icône en forme de tableau située à droite de la ligne d’un tableau de données dans l’onglet <em>Environment</em> du quadrant supérieur droit (cf. figure ci-après).</p>
<figure>
<img src="images/capture_RStudio_icone_viewer.png" alt="Icône pour afficher une vue du contenu d’un tableau" />
<figcaption>
Icône pour afficher une vue du contenu d’un tableau
</figcaption>
</figure>
<p>Dans tous les cas, <strong>RStudio</strong> lancera le <em>viewer</em> dans un onglet dédié dans le quadrant supérieur gauche. Le visualiseur de <strong>RStudio</strong> est plus avancé que celui-de base fournit par <strong>R</strong>. Il est possible de trier les données selon une variable en cliquant sur le nom de cette dernière. Il y a également un champs de recherche et un bouton <em>Filter</em> donnant accès à des options de filtrage avancées.</p>
<figure>
<img src="images/capture_RStudio_data_viewer.png" alt="La visionneuse de données de RStudio" />
<figcaption>
La visionneuse de données de RStudio
</figcaption>
</figure>
</div>
<div id="structure-du-tableau" class="section level2">
<h2>Structure du tableau</h2>
<p>Avant de travailler sur les données, nous allons essayer de comprendre comment elles sont structurées. Lors de l’import de données depuis un autre logiciel (que nous aborderons dans un autre <a href="pem_import_export.html">chapitre</a>), il s’agira souvent de vérifier que l’importation s’est bien déroulée.</p>
<p>Nous avons déjà vu qu’un tableau de données est organisé en lignes et en colonnes, les lignes correspondant aux <dfn data-index="observation">observations</dfn> et les colonnes aux <dfn data-index="variable">variables</dfn>. Les fonctions <code data-pkg="base">nrow</code>, <code data-pkg="base" data-rdoc="nrow">ncol</code> et <code data-pkg="base">dim</code> donnent respectivement le nombre de lignes, le nombre de colonnes et les dimensions de notre tableau. Nous pouvons donc d’ores et déjà vérifier que nous avons bien 2000 lignes et 20 colonnes :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nrow</span>(d)</code></pre>
<pre><code>[1] 2000</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ncol</span>(d)</code></pre>
<pre><code>[1] 20</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(d)</code></pre>
<pre><code>[1] 2000   20</code></pre>
<p>La fonction <code data-pkg="base">names</code> donne les noms des colonnes de notre tableau, c’est-à-dire les noms des variables :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(d)</code></pre>
<pre><code> [1] &quot;id&quot;            &quot;age&quot;          
 [3] &quot;sexe&quot;          &quot;nivetud&quot;      
 [5] &quot;poids&quot;         &quot;occup&quot;        
 [7] &quot;qualif&quot;        &quot;freres.soeurs&quot;
 [9] &quot;clso&quot;          &quot;relig&quot;        
[11] &quot;trav.imp&quot;      &quot;trav.satisf&quot;  
[13] &quot;hard.rock&quot;     &quot;lecture.bd&quot;   
[15] &quot;peche.chasse&quot;  &quot;cuisine&quot;      
[17] &quot;bricol&quot;        &quot;cinema&quot;       
[19] &quot;sport&quot;         &quot;heures.tv&quot;    </code></pre>
<p>L’extension <code class="pkg">questionr</code> propose également une fonction <code data-pkg="questionr">lookfor</code> qui permet de lister les différentes variables d’un fichier de données :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lookfor</span>(d)</code></pre>
<pre><code>        variable
1             id
2            age
3           sexe
4        nivetud
5          poids
6          occup
7         qualif
8  freres.soeurs
9           clso
10         relig
11      trav.imp
12   trav.satisf
13     hard.rock
14    lecture.bd
15  peche.chasse
16       cuisine
17        bricol
18        cinema
19         sport
20     heures.tv</code></pre>
<p>Lorsque l’on a un gros tableau de données avec de nombreuses variables, il peut être difficile de retrouver la ou les variables d’intérêt. Il est possible d’indiquer à <code data-pkg="questionr">lookfor</code> un mot-clé pour limiter la recherche. Par exemple :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lookfor</span>(d, <span class="st">&quot;trav&quot;</span>)</code></pre>
<pre><code>      variable
11    trav.imp
12 trav.satisf</code></pre>
<p>Il est à noter que si la recherche n’est pas sensible à la casse (i.e. aux majuscules et aux minuscules), elle est sensible aux accents.</p>
</div>
<div id="acceder-aux-variables" class="section level2">
<h2>Accéder aux variables</h2>
<p><code>d</code> représente donc l’ensemble de notre tableau de données. Nous avons vu que si l’on saisit simplement <code>d</code> à l’invite de commandes, on obtient un affichage du tableau en question. Mais comment accéder aux variables, c’est à dire aux colonnes de notre tableau ?</p>
<p>La réponse est simple : on utilise le nom de l’objet, suivi de l’opérateur <code data-pkg="base" data-rdoc="Extract">$</code>, suivi du nom de la variable, comme ceci :</p>
<pre class="sourceCode r"><code class="sourceCode r">d$sexe</code></pre>
<p>Au regard du résultat (non reproduit ici), on constate alors que <strong>R</strong> a bien accédé au contenu de notre variable <var>sexe</var> du tableau <code>d</code> et a affiché son contenu, c’est-à-dire l’ensemble des valeurs prises par la variable.</p>
<p>Les fonctions <code data-pkg="utils">head</code> et <code data-pkg="utils" data-rdoc="head">tail</code> permettent d’afficher seulement les premières (respectivement les dernières) valeurs prises par la variable. On peut leur passer en argument le nombre d’éléments à afficher :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(d$nivetud)</code></pre>
<pre><code>[1] Enseignement superieur y compris technique superieur
[2] &lt;NA&gt;                                                
[3] Derniere annee d&#39;etudes primaires                   
[4] Enseignement superieur y compris technique superieur
[5] Derniere annee d&#39;etudes primaires                   
[6] Enseignement technique ou professionnel court       
8 Levels: N&#39;a jamais fait d&#39;etudes ...</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(d$age, <span class="dv">10</span>)</code></pre>
<pre><code> [1] 52 42 50 41 46 45 46 24 24 66</code></pre>
<p>À noter que ces fonctions marchent aussi pour afficher les lignes du tableau <code>d</code> :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(d, <span class="dv">2</span>)</code></pre>
<pre><code>  id age  sexe
1  1  28 Femme
2  2  23 Femme
                                               nivetud
1 Enseignement superieur y compris technique superieur
2                                                 &lt;NA&gt;
     poids                 occup  qualif
1 2634.398 Exerce une profession Employe
2 9738.396       Etudiant, eleve    &lt;NA&gt;
  freres.soeurs clso                       relig
1             8  Oui Ni croyance ni appartenance
2             2  Oui Ni croyance ni appartenance
       trav.imp    trav.satisf hard.rock
1 Peu important Insatisfaction       Non
2          &lt;NA&gt;           &lt;NA&gt;       Non
  lecture.bd peche.chasse cuisine bricol cinema
1        Non          Non     Oui    Non    Non
2        Non          Non     Non    Non    Oui
  sport heures.tv
1   Non         0
2   Oui         1</code></pre>
</div>
<div id="la-fonction-str" class="section level2">
<h2>La fonction str</h2>
<p>La fonction <code data-pkg="utils">str</code> est plus complète que <code data-pkg="base">names</code>. Elle liste les différentes variables, indique leur type et donne le cas échéant des informations supplémentaires ainsi qu’un échantillon des premières valeurs prises par cette variable :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(d)</code></pre>
<pre><code>&#39;data.frame&#39;:   2000 obs. of  20 variables:
 $ id           : int  1 2 3 4 5 6 7 8 9 10 ...
 $ age          : int  28 23 59 34 71 35 60 47 20 28 ...
 $ sexe         : Factor w/ 2 levels &quot;Homme&quot;,&quot;Femme&quot;: 2 2 1 1 2 2 2 1 2 1 ...
 $ nivetud      : Factor w/ 8 levels &quot;N&#39;a jamais fait d&#39;etudes&quot;,..: 8 NA 3 8 3 6 3 6 NA 7 ...
 $ poids        : num  2634 9738 3994 5732 4329 ...
 $ occup        : Factor w/ 7 levels &quot;Exerce une profession&quot;,..: 1 3 1 1 4 1 6 1 3 1 ...
 $ qualif       : Factor w/ 7 levels &quot;Ouvrier specialise&quot;,..: 6 NA 3 3 6 6 2 2 NA 7 ...
 $ freres.soeurs: int  8 2 2 1 0 5 1 5 4 2 ...
 $ clso         : Factor w/ 3 levels &quot;Oui&quot;,&quot;Non&quot;,&quot;Ne sait pas&quot;: 1 1 2 2 1 2 1 2 1 2 ...
 $ relig        : Factor w/ 6 levels &quot;Pratiquant regulier&quot;,..: 4 4 4 3 1 4 3 4 3 2 ...
 $ trav.imp     : Factor w/ 4 levels &quot;Le plus important&quot;,..: 4 NA 2 3 NA 1 NA 4 NA 3 ...
 $ trav.satisf  : Factor w/ 3 levels &quot;Satisfaction&quot;,..: 2 NA 3 1 NA 3 NA 2 NA 1 ...
 $ hard.rock    : Factor w/ 2 levels &quot;Non&quot;,&quot;Oui&quot;: 1 1 1 1 1 1 1 1 1 1 ...
 $ lecture.bd   : Factor w/ 2 levels &quot;Non&quot;,&quot;Oui&quot;: 1 1 1 1 1 1 1 1 1 1 ...
 $ peche.chasse : Factor w/ 2 levels &quot;Non&quot;,&quot;Oui&quot;: 1 1 1 1 1 1 2 2 1 1 ...
 $ cuisine      : Factor w/ 2 levels &quot;Non&quot;,&quot;Oui&quot;: 2 1 1 2 1 1 2 2 1 1 ...
 $ bricol       : Factor w/ 2 levels &quot;Non&quot;,&quot;Oui&quot;: 1 1 1 2 1 1 1 2 1 1 ...
 $ cinema       : Factor w/ 2 levels &quot;Non&quot;,&quot;Oui&quot;: 1 2 1 2 1 2 1 1 2 2 ...
 $ sport        : Factor w/ 2 levels &quot;Non&quot;,&quot;Oui&quot;: 1 2 2 2 1 2 1 1 1 2 ...
 $ heures.tv    : num  0 1 0 2 3 2 2.9 1 2 2 ...</code></pre>
<p>La première ligne nous informe qu’il s’agit bien d’un tableau de données avec 2000 observations et 20 variables. Vient ensuite la liste des variables. La première se nomme <var>id</var> et est de type <dfn>entier</dfn> (<em>int</em><dfn data-index="integer" lang="en"></dfn>). La seconde se nomme <var>age</var> et est de type <dfn data-index="numérique, variable">numérique</dfn><dfn data-index="variable numérique"></dfn><dfn data-index="numeric" lang="en"></dfn>. La troisième se nomme <var>sexe</var>, il s’agit d’un <dfn>facteur</dfn> (<dfn lang="en">factor</dfn>).</p>
<p>Un facteur est une variable pouvant prendre un nombre limité de <dfn data-index="modalité, facteur">modalités</dfn> (<dfn data-index="level, factor" lang="en">levels</dfn>). Ici notre variable a deux modalités possibles : « Homme » et « Femme ». Ce type de variable est décrit plus en détail dans le chapitre sur la <a href="pem_manipulation.html#variables">manipulation de données</a>.</p>
<div class="important">
La fonction <code data-pkg="utils">str</code> est essentielle à connaître et peut s’appliquer à n’importe quel type d’objet. C’est un excellent moyen de connaître en détail la <dfn>structure d’un objet</dfn>. Cependant, les résultats peuvent être parfois trop détaillés et on lui priviligiera dans certains cas la fonction <code data-pkg="questionr">describe</code> (voir ci-après), cependant moins générique puisque ne s’appliquant qu’à des tableaux de données et à des vecteurs, tandis que <code data-pkg="utils">str</code> peut s’appliquer à absolument <strong>tout</strong> objet, y compris des fonctions.
</div>
</div>
<div id="la-fonction-describe" class="section level2">
<h2>La fonction describe</h2>
<p>L’extension <code class="pkg">questionr</code> fournit également une fonction bien pratique pour décrire les différentes variables d’un tableau de données. Il s’agit de <code data-pkg="questionr">describe</code>. Faisons de suite un essai :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">describe</span>(d)</code></pre>
<pre><code>[2000 obs. x 20 variables] data.frame

$id: 
integer: 1 2 3 4 5 ...
min: 1 - max: 2000 - NAs: 0 (0%) - 2000 unique values

$age: 
integer: 28 23 59 34 71 ...
min: 18 - max: 97 - NAs: 0 (0%) - 78 unique values

$sexe: 
nominal factor: &quot;Femme&quot; &quot;Femme&quot; &quot;Homme&quot; &quot;Homme&quot; &quot;Femme&quot; ...
2 levels: Homme | Femme
NAs: 0 (0%)

$nivetud: 
nominal factor: &quot;Enseignement superieur y compris technique superieur&quot; NA &quot;Derniere annee d&#39;etudes primaires&quot; &quot;Enseignement superieur y compris technique superieur&quot; &quot;Derniere annee d&#39;etudes primaires&quot; ...
8 levels: N&#39;a jamais fait d&#39;etudes | A arrete ses etudes, avant la derniere annee d&#39;etudes primaires | Derniere annee d&#39;etudes primaires | 1er cycle | 2eme cycle | Enseignement technique ou professionnel court | Enseignement technique ou professionnel long | Enseignement superieur y compris technique superieur
NAs: 112 (0.1%)

$poids: 
numeric: 2634.3982157 9738.3957759 3994.1024587 5731.6615081 4329.0940022 ...
min: 78.0783403 - max: 31092.14132 - NAs: 0 (0%) - 1877 unique values

$occup: 
nominal factor: &quot;Exerce une profession&quot; &quot;Etudiant, eleve&quot; &quot;Exerce une profession&quot; &quot;Exerce une profession&quot; &quot;Retraite&quot; ...
7 levels: Exerce une profession | Chomeur | Etudiant, eleve | Retraite | Retire des affaires | Au foyer | Autre inactif
NAs: 0 (0%)

$qualif: 
nominal factor: &quot;Employe&quot; NA &quot;Technicien&quot; &quot;Technicien&quot; &quot;Employe&quot; ...
7 levels: Ouvrier specialise | Ouvrier qualifie | Technicien | Profession intermediaire | Cadre | Employe | Autre
NAs: 347 (0.2%)

$freres.soeurs: 
integer: 8 2 2 1 0 ...
min: 0 - max: 22 - NAs: 0 (0%) - 19 unique values

$clso: 
nominal factor: &quot;Oui&quot; &quot;Oui&quot; &quot;Non&quot; &quot;Non&quot; &quot;Oui&quot; ...
3 levels: Oui | Non | Ne sait pas
NAs: 0 (0%)

$relig: 
nominal factor: &quot;Ni croyance ni appartenance&quot; &quot;Ni croyance ni appartenance&quot; &quot;Ni croyance ni appartenance&quot; &quot;Appartenance sans pratique&quot; &quot;Pratiquant regulier&quot; ...
6 levels: Pratiquant regulier | Pratiquant occasionnel | Appartenance sans pratique | Ni croyance ni appartenance | Rejet | NSP ou NVPR
NAs: 0 (0%)

$trav.imp: 
nominal factor: &quot;Peu important&quot; NA &quot;Aussi important que le reste&quot; &quot;Moins important que le reste&quot; NA ...
4 levels: Le plus important | Aussi important que le reste | Moins important que le reste | Peu important
NAs: 952 (0.5%)

$trav.satisf: 
nominal factor: &quot;Insatisfaction&quot; NA &quot;Equilibre&quot; &quot;Satisfaction&quot; NA ...
3 levels: Satisfaction | Insatisfaction | Equilibre
NAs: 952 (0.5%)

$hard.rock: 
nominal factor: &quot;Non&quot; &quot;Non&quot; &quot;Non&quot; &quot;Non&quot; &quot;Non&quot; ...
2 levels: Non | Oui
NAs: 0 (0%)

$lecture.bd: 
nominal factor: &quot;Non&quot; &quot;Non&quot; &quot;Non&quot; &quot;Non&quot; &quot;Non&quot; ...
2 levels: Non | Oui
NAs: 0 (0%)

$peche.chasse: 
nominal factor: &quot;Non&quot; &quot;Non&quot; &quot;Non&quot; &quot;Non&quot; &quot;Non&quot; ...
2 levels: Non | Oui
NAs: 0 (0%)

$cuisine: 
nominal factor: &quot;Oui&quot; &quot;Non&quot; &quot;Non&quot; &quot;Oui&quot; &quot;Non&quot; ...
2 levels: Non | Oui
NAs: 0 (0%)

$bricol: 
nominal factor: &quot;Non&quot; &quot;Non&quot; &quot;Non&quot; &quot;Oui&quot; &quot;Non&quot; ...
2 levels: Non | Oui
NAs: 0 (0%)

$cinema: 
nominal factor: &quot;Non&quot; &quot;Oui&quot; &quot;Non&quot; &quot;Oui&quot; &quot;Non&quot; ...
2 levels: Non | Oui
NAs: 0 (0%)

$sport: 
nominal factor: &quot;Non&quot; &quot;Oui&quot; &quot;Oui&quot; &quot;Oui&quot; &quot;Non&quot; ...
2 levels: Non | Oui
NAs: 0 (0%)

$heures.tv: 
numeric: 0 1 0 2 3 ...
min: 0 - max: 12 - NAs: 5 (0%) - 30 unique values</code></pre>
<p>Comme on le voit sur cet exemple, <code data-pkg="questionr">describe</code> nous affiche, le cas échéant, les étiquettes des différentes variables, leur type, les premières valeurs de chacune, le nombre de valeurs manquantes, le nombre de valeurs différentes (uniques) ainsi que quelques autres informations suivant le type de variables.</p>
<p>Il est possible de restreindre l’affichage à seulement quelques variables en indiquant le nom de ces dernières.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">describe</span>(d, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;trav.satisf&quot;</span>)</code></pre>
<pre><code>[2000 obs. x 20 variables] data.frame

$age: 
integer: 28 23 59 34 71 ...
min: 18 - max: 97 - NAs: 0 (0%) - 78 unique values

$trav.satisf: 
nominal factor: &quot;Insatisfaction&quot; NA &quot;Equilibre&quot; &quot;Satisfaction&quot; NA ...
3 levels: Satisfaction | Insatisfaction | Equilibre
NAs: 952 (0.5%)</code></pre>
<p>On peut également transmettre juste une variable :</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">describe</span>(d$sexe)</code></pre>
<pre><code>[2000 obs.] 
nominal factor: &quot;Femme&quot; &quot;Femme&quot; &quot;Homme&quot; &quot;Homme&quot; &quot;Femme&quot; ...
2 levels: Homme | Femme
NAs: 0 (0%)</code></pre>
<div class="note">
<p>L’extension <code class="pkg">dplyr</code>, que nous n’aborderons en détails que plus tard, propose une fonction <code data-pkg="dplyr">glimpse</code> (ce qui signifie “aperçu” en anglais) qui permet de visualiser rapidement et de manière condensée le contenu d’un tableau de données.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(d)</code></pre>
<pre><code>Observations: 2000
Variables:
$ id            (int) 1, 2, 3, 4, 5, 6, 7, 8,...
$ age           (int) 28, 23, 59, 34, 71, 35,...
$ sexe          (fctr) Femme, Femme, Homme, H...
$ nivetud       (fctr) Enseignement superieur...
$ poids         (dbl) 2634.3982, 9738.3958, 3...
$ occup         (fctr) Exerce une profession,...
$ qualif        (fctr) Employe, NA, Technicie...
$ freres.soeurs (int) 8, 2, 2, 1, 0, 5, 1, 5,...
$ clso          (fctr) Oui, Oui, Non, Non, Ou...
$ relig         (fctr) Ni croyance ni apparte...
$ trav.imp      (fctr) Peu important, NA, Aus...
$ trav.satisf   (fctr) Insatisfaction, NA, Eq...
$ hard.rock     (fctr) Non, Non, Non, Non, No...
$ lecture.bd    (fctr) Non, Non, Non, Non, No...
$ peche.chasse  (fctr) Non, Non, Non, Non, No...
$ cuisine       (fctr) Oui, Non, Non, Oui, No...
$ bricol        (fctr) Non, Non, Non, Oui, No...
$ cinema        (fctr) Non, Oui, Non, Oui, No...
$ sport         (fctr) Non, Oui, Oui, Oui, No...
$ heures.tv     (dbl) 0.0, 1.0, 0.0, 2.0, 3.0...</code></pre>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Sous <strong>Mac OS X</strong>, on utilise les touches <kbd>Pomme</kbd> et <kbd>Entrée</kbd>.<a href="#fnref1">↩</a></p></li>
</ol>
</div>

</article>
</div>

<div class="col-sm-3" role="complementary">
<nav class="hidden-print hidden-xs" id="nav_sidebar">
</nav>
</div>

</div>

<script>
// manage active state of menu based on current page
$(document).ready(function () {

    // active menu
    href = window.location.pathname;
    href = href.substr(href.lastIndexOf('/') + 1);
    if (href=='') href = 'index.html';
    $('a[href="' + href + '"]').parent().addClass('active');

    // manage active menu header
    if (href.startsWith('manipuler_'))
      $('a[href="' + 'manipuler' + '"]').parent().addClass('active');
    else if (href.startsWith('analyser_'))
      $('a[href="' + 'analyser' + '"]').parent().addClass('active');
    else if (href.startsWith('approfondir_'))
      $('a[href="' + 'approfondir' + '"]').parent().addClass('active');
    else if (href.startsWith('index_'))
      $('a[href="' + 'index' + '"]').parent().addClass('active');

    // élargir la page d'accueil
    if (href=='index.html') $('.col-sm-9').attr('class','col-sm-12');

    // rechercher
    $("#rechercher").submit(function(event) {
      $('input[name="q"]').val($('input[name="q"]').val() + ' site:larmarange.github.io/analyse-R');
    });

    // sidebar
    $("#nav_sidebar").append($("#TOC").html());
    $("#nav_sidebar ul").addClass("nav nav-stacked");
    $("#TOC").addClass("visible-xs-block");
    $('body').scrollspy({
      target: '#nav_sidebar',
      offset: 40
    });

    // Identifier les <pre> fermant
    $('pre').next("*:not(pre)").prev().addClass('last'); // Dernier <pre> de chaque groupe contigu de <pre>
    $('pre').parent().each(function (){
      $(this).children('pre').last().addClass('last');
    }); // Si <pre> est le dernier enfant de son parent

    // Ajout liens rdocumentation et tooltip
    $("code[data-pkg]").each(function( index ) {
      pkg = $(this).attr('data-pkg');
      if ($(this).attr('data-rdoc') !== undefined) {
        rdocumentation = $(this).attr('data-rdoc');
      } else {
        rdocumentation = $(this).text();
      }
      fonction = $(this).text();
      $(this).wrap('<a href="http://www.rdocumentation.org/packages/'+pkg+'/functions/'+rdocumentation+'">');
      $(this).attr('data-toggle','tooltip');
      $(this).attr('data-placement','top');
      $(this).attr('title','package : ' + pkg);
      $('[data-toggle="tooltip"]').tooltip();
    });

    $("code.pkg").each(function( index ) {
      $(this).wrap('<a href="http://www.rdocumentation.org/packages/'+$(this).text()+'">');
    });

    // Figures
    $("figure").each(function( index ) {
      if ($(this).children("figcaption").length > 0)
        $(this).children("figcaption:first").prepend('<span class="figure-number">Figure '+(index+1)+'.</span> ');
      else
        $(this).append($("<figcaption>").append('<span class="figure-number">Figure '+(index+1)+'</span>'));
    });

    // Colorbox
    jQuery('div img').colorbox({
      maxWidth: '90%',
      maxHeight: '90%',
      rel: 'figures',
      current: "",
      href: function(){
        return $(this).attr('src');
      },
      title: function(){
        return $(this).attr('alt');
      }
    });
    jQuery('div img').css('cursor', 'pointer');
    jQuery('figure img').colorbox({
      maxWidth: '90%',
      maxHeight: '90%',
      rel: 'figures',
      current: "",
      href: function(){
        return $(this).attr('src');
      },
      title: function(){
        return $(this).parent().children("figcaption").text();
      }
    });
    jQuery('figure img').css('cursor', 'pointer');

    // ZeroClipboard
    $('pre.r').parent().each(function(){
      $(this).children('pre.r').first().before('<div class="zero-clipboard hidden-print hidden-xs"><button class="btn-clipboard">Copier</button></div>');
    }); // Il peut arriver que le pre ne soit pas précédé (cf. figures)
    $('*:not(pre):not(.zero-clipboard) + pre.r').before('<div class="zero-clipboard hidden-print hidden-xs"><button class="btn-clipboard">Copier</button></div>');
    $('pre.last').after(function() {
      if ($(this).hasClass("r")) res = $(this).text(); else res = "";
      $(this).prevUntil('*:not(pre)','pre.r').each(function() {
        res = $(this).text() + '\n' + res;
      });
      return '<div class="clipboard">' + res + '</div>';
    });
    $('.zero-clipboard').each(function(index){
      $(this).children('.btn-clipboard').attr('data-clipboard-target','clipboard_'+index);
      $(this).nextAll("div.clipboard").first().attr('id','clipboard_'+index);
    });
    var client = new ZeroClipboard( $(".btn-clipboard") );
    client.on( "ready", function( readyEvent ) {
      // alert( "ZeroClipboard SWF is ready!" );
      client.on( "aftercopy", function( event ) {
        // `this` === `client`
        // `event.target` === the element that was clicked
        //event.target.style.display = "none";
        $(event.target).parent().before('<div class="alert alert-success"><a href="#" class="close" data-dismiss="alert">&times;</a>Le code <strong>R</strong> de l’exemple a été copié dans le presse-papier.</div>');
      } );
    } );

});
</script>

<!-- disqus -->
<div class="row">
  <div id="disqus_thread" class="col-sm-9" role="complementary"></div>
</div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'analyse-r'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Veuillez activer JavaScript pour voir les <a href="http://disqus.com/?ref_noscript">les commentaires gérés avec Disqus.</a></noscript>
    <!--<a href="http://disqus.com" class="dsq-brlink">Les commentaires sont hébergés par <span class="logo-disqus">Disqus</span>.</a>-->

<footer>
  <div class="row">
    <div class="col-lg-12">
      <p>Contenus sous licence <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/fr/" rel="nofollow">Creative Commons Attribution - Pas d’utilisation commerciale - Partage dans les mêmes conditions</a>.<br />
      Propulsé par <a href="http://www.r-project.org/" rel="nofollow">R</a>, </a><a href="http://www.rstudio.com/" rel="nofollow">RStudio</a>, <a href="http://rmarkdown.rstudio.com/" rel="nofollow">R Markdown</a>, <a href="http://yihui.name/knitr/" rel="nofollow">knitr</a>, <a href="http://pandoc.org/" rel="nofollow">pandoc</a> et <a href="http://www.princexml.com/" rel="nofollow">Prince XML</a>. Hébergé par <a href="https://github.com/" rel="nofollow">GitHub</a>.</p>
    </div>
  </div>
</footer>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>
